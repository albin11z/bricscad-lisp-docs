

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Professional Edition 10.1.0.147">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Using SheetMetal Commands</title>
  <meta name="description" content="" /> 
  <meta name="keywords" content="SheetMetal Commands">



  
  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Using SheetMetal Commands">
  <meta name="twitter:description" content="">

  <!-- Open Graph data -->
  <meta property="og:title" content="Using SheetMetal Commands" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="LISP Developer Support Package" /> 

  <!-- Bootstrap CSS -->
  <link href="vendors/bootstrap-5.3.7/bootstrap.min.css" rel="stylesheet"/>
  <link href="vendors/bootstrap-icons-1.13.1/bootstrap-icons.min.css" rel="stylesheet"/>

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 300px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 300px} body.md-nav-expanded header { padding-left: 314px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  

  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="visually-hidden">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>LISP Developer Support Package</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close" role="presentation"> 
        <button class="hnd-toggle btn btn-default" aria-label="close">
          <span class="bi bi-x" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="nav-item tab">
            <a href="#contents" id="tab-contents" class="nav-link active" role="tab" data-bs-toggle="tab" data-bs-target="#contents" aria-controls="contents" aria-selected="true">
                <i class="bi bi-list-ul"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="nav-item tab">
            <a href="#index" id="tab-index" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#index" aria-controls="index" aria-selected="false">
                <i class="bi bi-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="nav-item tab">
            <a href="#search" id="tab-search" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#search" aria-controls="search" aria-selected="false">
                <i class="bi bi-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="0"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." aria-label="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" aria-label="Search...">
                      <span class="bi bi-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="UsingSheetMetalCommands"
		  data-hnd-context="526"
		  data-hnd-title="Using SheetMetal Commands"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="BricsCADSheetMetalLISPAPI.html">BricsCAD SheetMetal LISP API</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="BricsCADSheetMetalLISPAPI.html" title="BricsCAD SheetMetal LISP API" role="button"><span class="bi bi-chevron-up" aria-hidden="true"></span></a><a class="btn btn-default" href="smlispset.html" title="smlispset" role="button"><span class="bi bi-chevron-left" aria-hidden="true"></span></a><a class="btn btn-default" href="SampleSheetMetalLisp.html" title="Sample SheetMetal Lisp" role="button"><span class="bi bi-chevron-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Using SheetMetal Commands</h2>

            <div class="main-content">
                
<p class="rvps2"><span class="rvts32">Calling SheetMetal Commands from LISP code</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts25">In order to call the sheet metal command from LISP you usually have to compose a proper preselection: i.e. if a command expects an entity, a solid must be preselected, if a command works with faces, faces must be preselected.</span><br/><span class="rvts25">Here you should exploit the fact that SmLispGet returns selection sets for features, so just right after a successful SmLispGet call you can call the required command, i.e. you can query faces of the flange first, and then call SmBendCreate to create bends on hard edges of the given flange</span><br/><span class="rvts25"><br/></span></p>
<p class="rvps13"><span class="rvts25">(SmLispGet "SelectEntities" "Top" "Flange_1")</span><br/><span class="rvts25">(command "SmBendCreate")</span><br/><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts25">Next, in your script you have to program a proper sequence of command options (if it has some modes) and finally you should check the return code by reading the errno variable. In our sample scripts we use three values:</span><br/><span class="rvts25"><br/></span></p>
<p class="rvps13"><span class="rvts25">(setq gError 79)</span><br/><span class="rvts25">(setq gWarning 1)</span><br/><span class="rvts25">(setq gSuccess 0)</span><br/><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts25">Return code equal to 0 means the command is executed successfully. &nbsp;79 means a fatal error has occurred, in which case it is better to stop the treatment of the model or the entire script and notify the user that the operation was unsuccessful, and the continuation of the scenario is not possible.</span><br/><span class="rvts25">Warnings have to be treated up to context, they mean that command has succeeded, but some problems, which the system cannot resolve, have been detected.</span><br/><span class="rvts25">Their treatment depends on the context: they can either be neglected or remembered to inform the user about some issues.</span><br/><span class="rvts25">But the main point is that if you get a warning, you can continue the &nbsp;scenario.</span><br/><span class="rvts25">Let's continue the example to clarify the idea:</span><br/><span class="rvts25"><br/></span></p>
<p class="rvps13"><span class="rvts25">(SmLispGet "SelectEntities" "Top" "Flange_1")</span><br/><span class="rvts25">(command "SmBendCreate")</span><br/><span class="rvts25">(if (= gError (getvar "errno"))</span><br/><span class="rvts25">&nbsp; (progn</span><br/><span class="rvts25">&nbsp; &nbsp; (print "Failed to create bends! Exiting")</span><br/><span class="rvts25">&nbsp; &nbsp; (exit)</span><br/><span class="rvts25">&nbsp; )</span><br/><span class="rvts25">)</span><br/><span class="rvts25"><br/></span></p>
<p class="rvps2" style="break-before: always;"><span class="rvts25"></span><span class="rvts24"></span></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">Copyright &copy; 2017-2025, Bricsys NV</div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-bs-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="hndModalLabel"></h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 300px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.7.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-5.3.7/bootstrap.bundle.min.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.11/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script src="_topic_init.js"></script>



</body>

</html>

